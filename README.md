# Express js

- Express - это минималистичный и гибкий веб-фреймворк для приложений Node.js, предоставляющий обширный набор функций для мобильных и веб-приложений.

# Архитектурный подход

### Rest Api

- Архитектурный подход к построению бэкенда называется REST API
- Rest представляет из себя стиль архитектуры ПО для построению распределенных масштабируемых веб сервисов
- Rest сервисы позволяют лучшем на данный момент образом использовать HTTP протоколы
- Rest всегда подразумевает клиент серверное взаимодействие
- Формат данных между клиентом и сервером передаются в формате JSON(JS Object Notation)

- POST - https://... C - create
- GET - https://... R - read
- PUT - https://... U - update
- DELETE- https://... D - delete

### Маршрутизация

- Маршрутизация определяет, как приложение отвечает на клиентский запрос к конкретному адресу (URL).

- Каждый маршрут может иметь, одну или несколько функций обработки, которые выполняются при сопоставлении маршрута.
- Определение маршрута имеет следующую структуру:
  <code>

  app.METHOD(PATH, HANDLER)

</code>

- Где:

1. app - это экземпляр Express
2. METHOD - метод запроса HTTP
3. PATH - путь на сервер
4. HANDLER - функция выполняемая при соопоставлении маршрута

### Передача данных приложению. Параметры строки запроса

##### req.query

- Один из способов передачи данных в приложение представляет использование параметров строки запроса. Строка запроса (query) - фактически это часть запрошенного адреса, которая идет после знака вопроса. Например, в запросе:

> http://localhost:3000/about?id=3&name=Tome часть id=3&name=Tome представляет строку запроса.

- Строка запроса образуют параметры. После названия каждого параметра после знака ровно (=) идет его значение

- В express мы можем получить параметра строки запроса через свойство query объекта request, который передается в функцию обработки запроса. Например:

<code>
const express = require('express')

const app = express()
app.get('/', function (request, response) {
response.send('<h1>Главная страница</h1>')
})
app.use('/about', function (request, response) {
let id = request.query.id
let userName = request.query.name
response.send(
'<h1>Информация</h1><p>id=' +
id +
'</p><p>name=' +
userName +
'</p>'
)
})

app.listen(3000)
</code>

- С помощью выражения request.query мы можем получить все параметры строки запрос в виде объекта javascript, а с помощью выражения request.query.название_параметра мы можем обратиться к каждому отдельному параметру.

##### req.body

- Объект req.body позволяет получать доступ к данным в строке или объекте JSON со стороны клиента. Обычно объект req.body используется для получения данных через запросы POST и PUT на сервере Express

#### Какая разница между PATCH и put?

- PATCH используется для частичного изменения ресурса. PUT создает новый ресурс или заменяет представление целевого ресурса, данными представленными в теле запроса.

### Что такое MVC архитектура?

- Model, View, Controller (MVC) — шаблон (паттерн) программирования, разделяющий архитектуру приложения на три модуля: модель (Model), представление (View), контроллер (Controller). Он позволяет изменять каждый компонент независимо друг от друга для простой разработки и поддержки веб-приложений.

### Контроллеры
- Работа с клиент-серверной состовляющей 
- Контроллеры - функции для получения запрашиваемых данных из моделей, создание HTML страницы, отображающей данные, и возвращение их пользователю для просмотра в браузере



### DAL (Data access layer, Слой доступа данных)

- Это слой компьютерной программы, который предоставляет упрощенный доступ к данным, хранимым в постоянном хранилище какого-либо типа, таком как реалиционная база данных

- Для примера, DAL может возвращать ссылку на объект (в терминах объектно-ориентированного программирования) с его атрибутами вместо строк?! полей из таблицы базы данных. Это позволяет создавать клиентские (или пользовательские) модули с более высоким уровнем абстракции. Такого рода модель может быть реализована путем создания класса с методами доступа к данным, которые напрямую ссылаются на соответствующий набор процедур базы данных. Другая реализация может потенциально получать или записывать записи в или из файловой системы. DAL скрывает сложность лежащего в основе хранилища данных от внешнего мира.


### Service 

- Бизнес логика
- никак не связана с req/res. Работа с бд и входными параметрами